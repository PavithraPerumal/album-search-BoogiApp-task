<template>
  <div class="home">
    <div class="bg-gradient-to-b from-violet-900 to-cyan-900">
      <PageHeader greeting-message="ALBUM SEARCH" />
    </div>
    <div class="p-10">
      <form v-on:submit.prevent="submitForm">
        <label
          class="w-6/12 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
        >
          <input
            class="w-full bg-white placeholder:font-italitc border border-slate-400 drop-shadow-md rounded-md py-2 pl-5 pr-5 focus:outline-none"
            placeholder="Search Artist"
            type="text"
            v-model="name"
          />

          <span
            class="absolute inset-y-0 right-0 flex items-center pr-3"
            @click="searchArtist"
          >
            <svg
              class="h-5 w-5 fill-black"
              xmlns="http://www.w3.org/2000/svg"
              x="0px"
              y="0px"
              width="30"
              height="30"
              viewBox="0 0 30 30"
            >
              <path
                d="M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z"
              ></path>
            </svg>
          </span>
        </label>
      </form>
      <!--<input type = "text" v-model="name" placeholder="search artist">
       <h2>searching result for {{name}}....</h2> -->
    </div>
  </div>
</template>

<script>
import PageHeader from "../PageHeader.vue";
// import VueRouter from "vue-router";
// @ is an alias to /src

export default {
  name: "index",
  data() {
    return {
      name: "coldplay",
    };
  },
  components: { PageHeader },
  methods: {
    submitForm() {
      window.location = "/result/?q=" + this.name;
    },
    searchArtist() {
      console.log("search Pressed", this.name);
      // VueRouter.push({ path: `/result/${this.name}` }); // -> /user/eduardo
      this.$router.push(
        // { path: `/result/${this.name}` }
        {
          name: "resultView",
          // params: { artistName: this.name },
          query: { q: this.name },
        }
      );
    },
  },
};
</script>
<style scoped>
.heading {
  height: 10rem;

  width: max-width;
  align-content: center;
}
h1 {
  padding-top: 5rem;
  color: white;
  font-family: "arial";
  font-weight: bolder;
  font-size: 3rem;
}
</style>
